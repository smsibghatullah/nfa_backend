{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<div class="max-w-6xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg">

  <a href="{% url 'admin:candidates_candidate_changelist' %}" 
     class="inline-flex items-center mb-4 px-3 py-1.5 rounded-md font-semibold text-white"
     style="background-color: #147814; border-radius: 0.375rem;">
    ‚Üê Back to Candidates
  </a>
  
  <h1 class="text-2xl font-bold text-gray-800 mb-6">üìÑ Submitted Forms</h1>

  {% if forms %}
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Name</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Email</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Phone</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Service</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Preferred Contact</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Description</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">Submitted At</th>
            <th class="px-4 py-2 text-left text-sm font-medium text-gray-700">File</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          {% for form in forms %}
          <tr class="hover:bg-gray-50">
            <td class="px-4 py-2">{{ form.name }}</td>
            <td class="px-4 py-2">{{ form.email }}</td>
            <td class="px-4 py-2">{{ form.phone }}</td>
            <td class="px-4 py-2">{{ form.service }}</td>
            <td class="px-4 py-2">{{ form.preferred_contact }}</td>
            <td class="px-4 py-2">{{ form.description }}</td>
            <td class="px-4 py-2">{{ form.submitted_at }}</td>
            <td class="px-4 py-2">
              {% if form.file %}
                <a href="{{ form.file.url }}" download class="text-green-600 font-semibold hover:underline">Download</a>
              {% else %}
                <span class="text-gray-400">-</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-gray-500 mt-4">No forms submitted.</p>
  {% endif %}

</div>
{% endblock %}
